<html>
  <head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet">
    <style type="text/css">
      #network {
        width:  1900px;
        height: 600px;
        border: 1px solid #000;
      }
    </style>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
  </head>
  <body>
    <div id="network"></div>
    <script type="text/javascript">
      const http_get = (url) => {
        return new Promise((resolve, reject) => {
          let xhr = new XMLHttpRequest();
          xhr.open('GET', url, true);
          xhr.onload = () => {
            if (xhr.readyState === 4 && xhr.status === 200) {
              resolve([url, xhr.response]);
            } else {
              reject(new Error(xhr.statusText));
            }
          };
          xhr.onerror = () => {
            reject(new Error(xhr.statusText));
          };
          xhr.send(null);
        });
      }

      Promise.all([
        http_get("./edges.json"),
        http_get("./nodes.json")
      ]).then(res => {
        const data = {}
        for(i = 0; i < res.length; i ++) {
          item = res[i]
          url = item[0]
          text = item[1]
          key = url == "./edges.json" ? "edges" : "nodes"
          data[key] = new vis.DataSet(JSON.parse(text))
        }
        const container = document.getElementById('network');
        var options = {
          nodes: {
            shape: "box"
          },
          edges: {
            arrows: 'to',
            smooth: false
          },
          layout: {
            randomSeed: undefined,
            improvedLayout:true,
            hierarchical: {
              enabled: true,
              levelSeparation: 200,
              direction: 'LR',
              sortMethod: 'directed'
            }
          }
        };
        var network = new vis.Network(container, data, options);
      })
    </script>
  </body>
</html>